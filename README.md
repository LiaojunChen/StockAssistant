# StockAssistant

# ç›®çš„
æœ¬é¡¹ç›®ç›®çš„æ˜¯æƒ³è®¾è®¡ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„ç‚’è‚¡è½¯ä»¶ï¼ˆå¦‚åŒèŠ±é¡ºï¼‰ã€‚å®ç°ä¸€èˆ¬ç‚’è‚¡è½¯ä»¶æ‰€å…·æœ‰çš„æ‰€æœ‰åŸºç¡€åŠŸèƒ½ï¼ŒåŒæ—¶å°†AIèå…¥äº¤äº’ç¯èŠ‚ï¼Œæ‰“é€ ä¸€ä¸ªè´¢ç»Agentï¼ˆæœ€åå®Œæˆåº¦æ¯”è¾ƒä½ï¼Œæ‚²
# è®¾è®¡æ€è·¯
è®¾è®¡æ—¶å‚ç…§åŒèŠ±é¡ºï¼Œå®ç°äº†åŒèŠ±é¡ºå…·æœ‰çš„åŸºæœ¬åŠŸèƒ½ï¼šè‚¡ç¥¨æŸ¥è¯¢ï¼Œä¹°å…¥è‚¡ç¥¨ï¼Œä¿®æ”¹æŒä»“ï¼ˆå¢ä»“ï¼Œå‡ä»“ï¼‰ï¼Œä»¥åŠæµè§ˆä»Šæ—¥è‚¡å¸‚è¡Œæƒ…ï¼ŒæŸ¥çœ‹é‡è¦æŒ‡æ•°çš„æ¶¨è·Œï¼Œçƒ­é—¨è‚¡ç¥¨ï¼Œä»Šæ—¥å’¨è¯¢ç­‰ã€‚æ•°æ®å‡èƒ½æœ¬åœ°ä¿å­˜ï¼Œé‡å¯ç¨‹åºåä»åœ¨ã€‚åŒæ—¶è°ƒç”¨OpenAI GPTçš„APIï¼Œåˆ¶ä½œäº†ä¸€ä¸ªè´¢ç»agentï¼ˆé’æ˜¥ç‰ˆï¼‰ã€‚å…·ä½“ä½œç”¨æœ‰ï¼š
1.	æ¯æ¬¡ç¨‹åºå¯åŠ¨åï¼Œé’ˆå¯¹ç”¨æˆ·æŒä»“ï¼Œç»™æå‡ºä¸€äº›æŒä»“å»ºè®®ï¼›
2.	åœ¨ç”¨æˆ·ä½¿ç”¨æœç´¢åŠŸèƒ½åï¼Œè¡¥å……ä»‹ç»æœç´¢çš„è‚¡ç¥¨çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼›
3.	å¯ä»¥ä½¿ç”¨æ–‡æœ¬æ¡†ä¸GPTç›´æ¥äº¤äº’ï¼›
4.	æ¯æ—¥èè‚¡ã€‚
# å…·ä½“ç»†èŠ‚
## è‚¡ç¥¨ä¿¡æ¯çˆ¬è™«ï¼ˆGetStock.cppï¼‰
çˆ¬è™«å®ç°ã€‚ä½¿ç”¨QNetworkåº“å‡½æ•°çˆ¬å–æŒ‡å®šç½‘å€æºä»£ç ï¼Œç„¶åç”¨æ­£åˆ™è¡¨è¾¾å¼æå–å…³é”®è¯å®ç°ä¿¡æ¯çˆ¬å–ã€‚
## æŒä»“ä¿¡æ¯ç¦»çº¿ä¿å­˜(SQLStock.cpp)
 ä½¿ç”¨çš„æ•°æ®åº“å®ç°ï¼ˆSQLiteï¼‰ï¼Œå°†çˆ¬å–çš„è‚¡ç¥¨æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œä»è€Œå®ç°ç¦»çº¿ä¿å­˜ã€‚å…¶ä¸­ä¿®æ”¹æŒä»“ä¿¡æ¯ä½¿ç”¨æ•°æ®åº“åŸºç¡€è¯­æ³•ï¼ˆåˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ï¼‰ç­‰å®ç°ã€‚
## AIæ¨¡å‹ï¼ˆCore.cppï¼‰
### GPT-4o
æ¯”è¾ƒåŸºç¡€çš„è°ƒç”¨OpenAIå®˜æ–¹API
### FinAssistant
è¿™éƒ¨åˆ†æ˜¯æˆ‘ä»¬åšçš„æ¯”è¾ƒå›°éš¾çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªæ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„Assistant v2ä»Šå¹´æ‰æ¨å‡ºï¼Œæ¯”è¾ƒæ–°ï¼Œç›¸å…³æ•™ç¨‹å¾ˆç¨€ç¼ºï¼›å¦ä¸€ä¸ªæ˜¯å³ä½¿æœ‰ç›¸å…³æ•™ç¨‹ï¼Œä»£ç å‡æ˜¯pythonè°ƒç”¨openaiå®˜æ–¹å°è£…å¥½çš„åº“ï¼ŒC++ä»£ç æ— æ³•å€Ÿé‰´ï¼›åŒæ—¶å› åŠŸèƒ½æ¯”è¾ƒæ–°ï¼ŒGPTè‡ªå·±ä¹Ÿå†™ä¸å‡ºæ¥ç›¸å…³ä»£ç ï¼Œåªèƒ½è‡ªå·±å•ƒOpenAIå®˜æ–¹æ–‡æ¡£æ¥å­¦ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´æ¯”è¾ƒåƒåŠ›ã€‚

#### å…·ä½“å®ç°ç»†èŠ‚ï¼š
- #### æ¨¡å‹å¤„ç†
åœ¨OpenAI Platformé‡Œç”¨ç°æˆçš„å·¥å…·å¾®è°ƒã€‚ä¸»è¦åšçš„å·¥ä½œå°±æ˜¯æ‰¾çŸ¥è¯†ä¿¡æ¯ã€‚ç»™å…¶æä¾›äº†Aè‚¡æ‰€æœ‰ä¸Šå¸‚å…¬å¸åŸºç¡€ä¿¡æ¯ï¼ˆè‚¡ç¥¨åç§°+è‚¡ç¥¨ä»£ç +è¿‘å¹´è´¢åŠ¡æƒ…å†µï¼‰ã€è¿‘ä¸€ä¸ªæœˆè‚¡å¸‚åŠ¨æ€ä»¥åŠç»æµæ–°é—»ï¼ˆä»¥è§£å†³GPTçŸ¥è¯†åº“è½åçš„é—®é¢˜ï¼‰ã€è¿‘åŠå¹´çš„é«˜è´¨é‡è¡Œæƒ…ç ”æŠ¥ä»¥åŠèµ„è®¯åˆ†ææ–‡ç« ã€‚
è¿™éƒ¨åˆ†
- #### æ¨¡å‹è°ƒç”¨
å› ä¸ºå‡ ä¹æ²¡æœ‰åœ°æ–¹æä¾›äº†Assistant APIè°ƒç”¨ä»£ç çš„C++å®ç°ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å°±è‡ªå·±å†™äº†ä¸€ä»½ï¼Œå…·ä½“è§ï¼š
https://blog.csdn.net/WatsonChen1188/article/details/138978083?spm=1001.2014.3001.5501
è°ƒç”¨çš„è¿‡ç¨‹æ˜¯ç”¨jsonæ ¼å¼å‘é€æŒ‡å®šæ ¼å¼çš„requestè°ƒç”¨OpenAIå®˜æ–¹APIå®ç°äº¤äº’ã€‚

### Llama-3
Llama-3é‡‡ç”¨æœ¬åœ°éƒ¨ç½²ï¼Œæ¨¡å‹é€‰ç”¨çš„æ˜¯Llama-3çš„8Bç‰ˆæœ¬çš„LoRAç‰ˆæœ¬ï¼ˆä¸­æ–‡å¼ºåŒ–ç‰ˆï¼‰ï¼ˆæ¨¡å‹åœ°å€
https://github.com/ymcui/Chinese-LLaMA-Alpacaï¼‰
æœ¬åœ°æ¨ç†å€ŸåŠ©çš„æ˜¯llama.cppå®ç°ï¼ˆé¡¹ç›®ä½ç½®
https://github.com/ggerganov/llama.cppï¼‰
åœ¨éƒ¨ç½²Llama-3æ—¶å€™ï¼Œæˆ‘ä»¬åŒæ ·å‘ç°å¸‚é¢ä¸Šçš„æ•™ç¨‹åŸºæœ¬å…¨éƒ½æ˜¯åŸºäºLinuxç³»ç»Ÿæˆ–MacOSå®ç°ï¼Œè·ŸWindowså®ç°å·®å¼‚è¾ƒå¤§ï¼ˆå¯èƒ½åªæœ‰æˆ‘ä»¬è¿™ç§å°ç™½ä¼šç”¨Windowséƒ¨ç½²ğŸ˜‚ï¼‰ï¼Œä¹‹åå¯èƒ½ä¼šåšä¸€ä¸ªwindowséƒ¨ç½²çš„æ•™ç¨‹

## è‚¡å¸‚èµ°åŠ¿å±•ç¤ºï¼ˆGet_Url_Pic.cppï¼‰
å…ˆè°ƒç”¨ScreenShot APIæŠ“å–æºç½‘é¡µæˆªå±ä¿å­˜åˆ°æœ¬åœ°ï¼Œå†ç”¨QPixMapæˆªå–æŒ‡å®šä½ç½®çš„å›¾ç‰‡ï¼Œå‘ˆç°åœ¨UIä¸Š

# ä»£ç ç»“æ„
```mermaid
graph LR
    A[ç¨‹åºåˆå§‹åŒ–]
    A--> C[æµè§ˆæŒä»“ä¿¡æ¯]-->C1[ä½¿ç”¨SQLiteæ•°æ®åº“ä¿å­˜ä¿¡æ¯]
    A -->D[æµè§ˆè‚¡å¸‚æŒ‡æ•°èµ°åŠ¿åŠçƒ­é—¨è‚¡ç¥¨]-->D1[è°ƒç”¨APIä»¥åŠQPixmapæˆªå–è‚¡ç¥¨ç½‘é¡µæŒ‡å®šä½ç½®]
    A--> F[æœç´¢è‚¡ç¥¨]-->F1["ä½¿ç”¨QNetworkå‘é€ç½‘é¡µè¯·æ±‚"]
    F-->F2[æ­£åˆ™è¡¨è¾¾å¼æå–ä¿¡æ¯]
    A--> G[ä¿®æ”¹æŒä»“]--> G1[å¯è¿›è¡ŒåŠ ä»“å‡ä»“ç­‰æ“ä½œ]
    G-->G2[ä½¿ç”¨æ•°æ®åº“å®ç°]
    A--> H[æ¯æ—¥èµ„è®¯]-->H1[GPTè¾“å‡º+æ‘˜å–ç½‘é¡µå¹¶è¡Œæ„æˆå†…å®¹]
    A--> I[è°ƒç”¨é€‰æ‹©çš„æ¨¡å‹è¿›è¡Œäº¤äº’]-->I1[è°ƒç”¨OpenAI APIäº¤äº’]
    I-->I2[FinAssistantåŸºäºGPT-4-Turbo,åŠ å…¥è‚¡ç¥¨çŸ¥è¯†åº“è°ƒæ•™]
    I-->I3[GPT-4oç›´æ¥è°ƒç”¨çš„API]
 
   
```

# æµ‹è¯•ç”¨ä¾‹
## è‚¡å¸‚æŒ‡æ•°ä¿¡æ¯å±•ç¤º
ç‚¹å‡»comboboxï¼Œé€‰æ‹©é€‰é¡¹å¯åˆ‡æ¢å†…å®¹
![ä¿¡æ¯ä¸€è§ˆï¼Œå·¦è¾¹ä¸ºè‚¡å¸‚è¡Œæƒ…ï¼Œå³è¾¹ä¸ºæŒä»“çš„ç®€æ˜ä¿¡æ¯](https://github.com/LiaojunChen/StockAssistant/blob/main/img/pic_show.png)
![åˆ‡æ¢åå±•ç¤º](https://github.com/LiaojunChen/StockAssistant/blob/main/img/pic_change.png)
## æœç´¢åŠŸèƒ½å±•ç¤º
![å›¾1](https://github.com/LiaojunChen/StockAssistant/blob/main/img/search.png)

è¾“å…¥è‚¡ç¥¨ä»£ç ï¼Œç‚¹å‡»â€œæŸ¥è¯¢â€å³å¯è·å¾—è‚¡ç¥¨ä¿¡æ¯
### ä»£ç é²æ£’æ€§
![å›¾2](https://github.com/LiaojunChen/StockAssistant/blob/main/img/searchdebug.png)

è‹¥è¾“å…¥é”™è¯¯çš„è‚¡ç¥¨ä»£ç ï¼Œç³»ç»Ÿä¼šæç¤ºè¾“å…¥æ­£ç¡®çš„è‚¡ç¥¨ä»£ç 
## ä¿®æ”¹æŒä»“åŠŸèƒ½å±•ç¤º
![å›¾3](https://github.com/LiaojunChen/StockAssistant/blob/main/img/changestock.png)

å¯é€‰æ‹©ç›¸åº”è‚¡ç¥¨è¿›è¡ŒåŠ ä»“å‡ä»“æ“ä½œ
### ä»£ç é²æ£’æ€§
![å›¾4](https://github.com/LiaojunChen/StockAssistant/blob/main/img/change_debug.png)

å¦‚æœè¾“å…¥çš„å‡ä»“æ•°å¤§äºæŒä»“æ•°ï¼Œåˆ™ä¼šæé†’ç”¨æˆ·
## æ¯æ—¥èµ„è®¯å±•ç¤º
![å›¾5](https://github.com/LiaojunChen/StockAssistant/blob/main/img/news.png)

ç»“åˆGPT+ç½‘é¡µæ–°é—»å½¢æˆå†…å®¹
## GPTäº¤äº’å±•ç¤º
![å›¾6](https://github.com/LiaojunChen/StockAssistant/blob/main/img/finassistant_ouput.png)

åœ¨æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ï¼Œå³å¯æ”¶åˆ°GPTå›å¤
## FinAssistantä¸GPT-4oå¯¹æ¯”
FinAssistantåŸºäºGPT-4-Turboå¾®è°ƒï¼ŒåŠ å…¥äº†è‚¡ç¥¨ä¸“ä¸šçŸ¥è¯†ï¼›GPT-4oä½¿ç”¨çš„åŸç”Ÿæ¨¡å‹ã€‚
![FinAssistant](https://github.com/LiaojunChen/StockAssistant/blob/main/img/finassistant_ouput.png)
![GPT-4o](https://github.com/LiaojunChen/StockAssistant/blob/main/img/4o_outpout.png)

ä»¥ä¸Šæ˜¯åœ¨åŒæ ·çš„promptä¸‹ï¼Œä¸¤ä¸ªæ¨¡å‹çš„å›ç­”ï¼Œå¯ä»¥çœ‹åˆ°ï¼ŒGPT-4oæœ‰æ˜æ˜¾äº‹å®æ€§é”™è¯¯ï¼ŒFinAssistantåœ¨çŸ¥è¯†åº“åŠ æŒä¸‹æ›´åŠ å‡†ç¡®ä¸¥è°¨

# æ ¸å¿ƒä»£ç è§£é‡Šéƒ¨åˆ†
å› ç¯‡å¹…è¾ƒé•¿ï¼Œè§æ ¸å¿ƒä»£ç è§£é‡Š.md
